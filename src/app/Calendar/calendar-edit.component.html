<div *ngIf="sessions.length > 0">
  <div *ngIf="getSessionOrEmpty().session_id">
    <h2 mat-dialog-title class="fw-bold">Edit Plan for {{ getSessionOrEmpty().date | date: 'yyyy-MM-dd' }}</h2>
    <mat-dialog-content>
      <p class="fw-bold">Title:</p>
      <mat-form-field style="width: 70%;">
        <input 
          matInput 
          name="title-{{getSessionOrEmpty().session_id}}" 
          [(ngModel)]="getSessionOrEmpty().title" 
          [ngModelOptions]="{ standalone: true }" 
          style="text-align: center;">
      </mat-form-field>
      <br>
      <p class="fw-bold">Description:</p>
      <mat-form-field style="width: 90%;">
        <textarea 
          matInput 
          name="description-{{getSessionOrEmpty().session_id}}" 
          [(ngModel)]="getSessionOrEmpty().description" 
          [ngModelOptions]="{ standalone: true }">
        </textarea>
      </mat-form-field>

        <mat-label><b>Workouts</b></mat-label>
        <mat-select [(ngModel)]="selectedWorkoutTitle">
          <mat-option *ngFor="let workout of workouts" [value]="workout.title">
            {{ workout.title }}
          </mat-option>
        </mat-select>
      
      <p *ngIf="exercisesSession.length > 0" class="fw-bold">Exercises:</p>
      <div *ngIf="exercisesSession.length === 0">No exercises found.</div>
    </mat-dialog-content>
    <mat-dialog-actions>
      <div style="width:100%; margin-bottom: 2%">
        <button *ngIf="getSessionOrEmpty().session_id" mat-button (click)="Delete(getSessionOrEmpty().session_id)" class="RaisedBtn DeleteBtn float-start">Delete workout</button>
        <button mat-button (click)="Save(getSessionOrEmpty().session_id, getSessionOrEmpty().title, getSessionOrEmpty().description)" class="RaisedBtn float-end">Save changes</button>
      </div>
    </mat-dialog-actions>
  </div>

  <!-- Dla pustej sesji -->
  <div *ngIf="!getSessionOrEmpty().session_id">
    <h2 mat-dialog-title class="fw-bold">Create Plan for {{ getSessionOrEmpty().date | date: 'yyyy-MM-dd' }}</h2>
    <mat-dialog-content>
      <p class="fw-bold">Title:</p>
      <mat-form-field style="width: 70%;">
        <input 
          matInput 
          name="new-title" 
          [(ngModel)]="getSessionOrEmpty().title" 
          [ngModelOptions]="{ standalone: true }" 
          placeholder="Enter session title" 
          style="text-align: center;">
      </mat-form-field>
      <br>
      <p class="fw-bold">Description:</p>
      <mat-form-field style="width: 90%;">
        <textarea 
          matInput 
          name="new-description" 
          [(ngModel)]="getSessionOrEmpty().description" 
          [ngModelOptions]="{ standalone: true }" 
          placeholder="Enter session description"></textarea>
      </mat-form-field>
    </mat-dialog-content>
    <mat-dialog-actions>
      <div style="width:100%; margin-bottom: 2%">
        <button mat-button (click)="Save(getSessionOrEmpty().session_id, getSessionOrEmpty().title, getSessionOrEmpty().description)" class="RaisedBtn float-end">Save new plan</button>
      </div>
    </mat-dialog-actions>
  </div>
</div>
